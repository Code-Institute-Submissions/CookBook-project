{% extends 'base.html' %} {% block content %} {% include 'includes/_messages.html' %}
<link rel="stylesheet" href="{{ url_for('static', filename = 'css/get_recipe.css') }}" type="text/css" />
<section>
    <!-- Recipe image -->
    <div class="recipe__image">
        <a href="#">
            <img class = "image__inline" src = {{ recipe.recipe_image }} alt = "recipe-image">
        </a>
    </div>
    
    <!-- Recipe likes -->
    <div class = "recipe__likes">
        <span>Likes {{ recipe.likes |int }}</span>
        <a class = "fa fa-thumbs-up" href ="/like/{{ recipe._id }}">Like</a>
        <a class = "fa fa-thumbs-down" href ="/dislike/{{ recipe._id }}">Dislike</a>
    </div>
    
    <!-- Recipe ratings -->
    <div class = "initialRating">
        <span class = "ratings__title">Rating</span>
        <div class="stars-outer">
            <div class="stars-inner"></div>
        </div>
        <span class = "numbers-rating">{{ recipe.rating }}</span>
        <button id = "rating__button">Rate this recipe</button>
        <div id = "rating__modal" class = "modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h4 class = "modal__title">How would you rate this recipe ?</h4>
                <p class = "modal__select">Select Rating</p>
                <form action="/update_rating/{{ recipe._id }}" method="POST">
                    <x-star-rating value="0" name = "rating" id = "rating"></x-star-rating>
                    <input type="hidden" id ="rate" name="rating" value ="0"/>
                    <button type="submit">Rate It</button>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Recipe Info -->
    <div class="recipe__info">
        <!-- Recipe description -->
        <div class="recipe__title">
            <h1 class="title__description">{{ recipe.recipe_name }}</h1>
        </div>
        <div class="recipe__author">
            <p class="author__description">By {{ recipe.author_name }}</p>
        </div>
        
        <!-- Recipe cooking time -->
        <div class="recipe-separator"></div>
        <div class="info__time">
            <div class="time__clock">
                <i class="far fa-clock"></i>
            </div>
            <div class="time__cooking">
                <span>Cooking Time</span>
                <span class="is-time">{{ recipe.cooking_time }}</span>
            </div>
            <div class="time__preparation">
                <span>Preparation Time</span>
                <span class="is-time">{{ recipe.preparation_time }}</span>
            </div>
            <div class="time__ready">
                <span>Ready In</span>
                <span class="is-time">{{ total }}</span>
            </div>
        </div>
        
        <!-- Recipe alert -->
        <div class="recipe-separator"></div>
        <div class="recipe__alert">
            <h3 class="alert__description">Add your own recipes</h3>
            <div class="alert__box">
                <a class="box__link" href="/login">GET COOKING</a>
            </div>
        </div>
        
        <!-- Recipe ingredients -->
        <div class="recipe-separator"></div>
        <div class="recipe__quantities">
            <ul class="quantities__container">
                {% for quantity in full_quantities %}
                <li>{{ quantity }}</li>
                {% endfor %}
            <ul>
        </div>
        <div class="recipe__ingredients">
            <ul class="ingredients__container">
                {% for ingredient in full_ingredients %}
                <li>{{ ingredient }}</li>
                {% endfor %}
            </ul>
        </div>
        <div class="recipe-separator"></div>
        
        <!-- Recipe instructions -->
        <div class="recipe__instructions">
            {% for instruction in recipe.cooking_directions %}
            <div class="instructions__full">
                <span class="instructions__index">{{ loop.index }}</span>
                <li>{{ instruction }}</li>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
<script src="{{ url_for('static', filename = 'js/ratings.js') }}" async></script>
<script src="{{ url_for('static', filename = 'js/modal.js') }}" async></script>
<script src="{{ url_for('static', filename = 'js/starRating.js') }}" async></script>
{% endblock %}
